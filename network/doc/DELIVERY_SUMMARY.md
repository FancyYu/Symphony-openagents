# ğŸ“¨ æ¶ˆæ¯å‘é€æœºåˆ¶æ€»ç»“

## âœ… å·²ä¿®å¤çš„é—®é¢˜

### ä¹‹å‰çš„é—®é¢˜

```python
# âŒ é”™è¯¯ï¼šå°è¯•å‘é€ç»™ç”¨æˆ·IDï¼ˆç”¨æˆ·ä¸æ˜¯agentï¼‰
await self.send_direct_message(
    target_agent_id=user_id,  # "admin" ä¸æ˜¯ agent
    text=message
)
```

### ç°åœ¨çš„è§£å†³æ–¹æ¡ˆ

```python
# âœ… æ­£ç¡®ï¼šå‘é€åˆ°é¢‘é“
await messaging.send_channel_message(
    channel=channel,  # "general" é¢‘é“
    text=message
)
```

---

## ğŸ”„ å®Œæ•´çš„æ¶ˆæ¯æµ

### 1. ç”¨æˆ·å‘é€æ¶ˆæ¯

```
ç”¨æˆ·åœ¨ "general" é¢‘é“: "æœ€è¿‘å·¥ä½œå‹åŠ›å¾ˆå¤§"
```

### 2. Listener æ•è·å¹¶ä¼ é€’é¢‘é“ä¿¡æ¯

```python
# agents/daily_assistant_listener.py

channel = payload.get("channel", "general")  # æå–é¢‘é“

# æ¶ˆæ¯æ ¼å¼ï¼šANALYSIS_REQUEST|user_id|framework|channel|content
analysis_msg = f"ANALYSIS_REQUEST|admin|general|general|æœ€è¿‘å·¥ä½œå‹åŠ›å¾ˆå¤§"

await messaging.send_direct_message(
    target_agent_id="analyst-agent",
    text=analysis_msg
)
```

### 3. Analyst è§£æå¹¶ä¼ é€’é¢‘é“ä¿¡æ¯

```python
# agents/analyst_agent.py

# è§£ææ¶ˆæ¯ï¼ˆåŒ…å«é¢‘é“ï¼‰
parts = message.split("|", 4)
user_id = parts[1]    # "admin"
framework = parts[2]  # "general"
channel = parts[3]    # "general"
content = parts[4]    # "æœ€è¿‘å·¥ä½œå‹åŠ›å¾ˆå¤§"

# å‘é€ç»™ Creatorï¼ˆåŒ…å«é¢‘é“ï¼‰
analysis_data = {
    "user_id": user_id,
    "framework": framework,
    "channel": channel,  # ğŸ†• ä¼ é€’é¢‘é“
    "insights": insights,
    ...
}
```

### 4. Creator å‘é€åˆ°åŸå§‹é¢‘é“

```python
# agents/creator_agent.py

channel = payload.get("channel", "general")  # è·å–é¢‘é“

# å‘é€åˆ°é¢‘é“
await messaging.send_channel_message(
    channel=channel,  # å‘é€åˆ°åŸå§‹é¢‘é“
    text=message
)
```

---

## ğŸ“Š æ¶ˆæ¯æ ¼å¼æ¼”å˜

### Listener â†’ Analyst

```
æ—§æ ¼å¼: "ANALYSIS_REQUEST|{user_id}|{framework}|{content}"
æ–°æ ¼å¼: "ANALYSIS_REQUEST|{user_id}|{framework}|{channel}|{content}"
        â†‘ æ–°å¢é¢‘é“å‚æ•°
```

### Analyst â†’ Creator

```json
{
  "user_id": "admin",
  "framework": "general",
  "channel": "general",  // ğŸ†• æ–°å¢
  "insights": [...],
  "confidence": 0.8,
  "original_content": "..."
}
```

---

## ğŸ¨ ç”¨æˆ·çœ‹åˆ°çš„æ•ˆæœ

### åœ¨ OpenAgents Studio ä¸­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“± General é¢‘é“                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚ ğŸ‘¤ admin (17:30)                            â”‚
â”‚ æœ€è¿‘å·¥ä½œå‹åŠ›å¾ˆå¤§ï¼Œç»å¸¸åŠ ç­åˆ°å¾ˆæ™šï¼Œæ„Ÿè§‰å¾ˆç„¦è™‘  â”‚
â”‚                                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                             â”‚
â”‚ ğŸ¤– daily-assistant (17:30)                  â”‚
â”‚ æˆ‘ç†è§£ä½ çš„æ„Ÿå—ã€‚å·¥ä½œå‹åŠ›å’Œç„¦è™‘ç¡®å®å¾ˆå›°æ‰°äººã€‚  â”‚
â”‚ è®©æˆ‘å¸®ä½ æ·±å…¥åˆ†æä¸€ä¸‹å‹åŠ›æ¥æºå’Œåº”å¯¹æ–¹æ³•ã€‚      â”‚
â”‚ æˆ‘ä¼šè¿æ¥æˆ‘ä»¬çš„åˆ†æå¸ˆä¸ºä½ æä¾›ä¸“ä¸šçš„æ´å¯Ÿã€‚      â”‚
â”‚                                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                             â”‚
â”‚ ğŸ¨ creator-agent (17:34)                    â”‚
â”‚ ğŸ¯ å‹åŠ›ç®¡ç†ä¸å·¥ä½œæ•ˆç‡æå‡è®¡åˆ’                â”‚
â”‚                                             â”‚
â”‚ ğŸ“ é€šè¿‡æ—¶é—´ç®¡ç†ã€æƒ…ç»ªè°ƒèŠ‚å’Œæ²Ÿé€šæŠ€å·§ï¼Œ        â”‚
â”‚ ç³»ç»Ÿæ€§åœ°é™ä½å·¥ä½œå‹åŠ›ï¼Œæå‡ç”Ÿæ´»è´¨é‡            â”‚
â”‚                                             â”‚
â”‚ ğŸ“‹ è¡ŒåŠ¨è®¡åˆ’:                                â”‚
â”‚                                             â”‚
â”‚ 1. å®æ–½ç•ªèŒ„å·¥ä½œæ³• (æœ¬å‘¨å¼€å§‹)                â”‚
â”‚    ğŸ’¡ æé«˜å·¥ä½œæ•ˆç‡ï¼Œå‡å°‘åŠ ç­æ—¶é—´             â”‚
â”‚                                             â”‚
â”‚ 2. æ¯æ—¥æ”¾æ¾ç»ƒä¹  (æ¯æ—¥æ—©æ™š)                  â”‚
â”‚    ğŸ’¡ ç¼“è§£ç„¦è™‘ï¼Œæå‡æƒ…ç»ªç¨³å®šæ€§               â”‚
â”‚                                             â”‚
â”‚ 3. ä»»åŠ¡ä¼˜å…ˆçº§ç®¡ç† (æ¯å‘¨ä¸€)                  â”‚
â”‚    ğŸ’¡ æ˜ç¡®é‡ç‚¹ï¼Œé¿å…è¢«çäº‹æ·¹æ²¡               â”‚
â”‚                                             â”‚
â”‚ 4. ä¸ä¸Šçº§æ²Ÿé€š (æœ¬å‘¨å†…)                      â”‚
â”‚    ğŸ’¡ è·å¾—æ”¯æŒï¼Œè°ƒæ•´å·¥ä½œè´Ÿè·                 â”‚
â”‚                                             â”‚
â”‚ 5. è®¾å®šå·¥ä½œè¾¹ç•Œ (æœ¬æœˆå¼€å§‹)                  â”‚
â”‚    ğŸ’¡ æ”¹å–„å·¥ä½œç”Ÿæ´»å¹³è¡¡                       â”‚
â”‚                                             â”‚
â”‚ ğŸŒŸ å¼€å§‹è¡ŒåŠ¨å§ï¼å¦‚æœéœ€è¦è°ƒæ•´æˆ–æœ‰ä»»ä½•é—®é¢˜ï¼Œ    â”‚
â”‚ éšæ—¶å‘Šè¯‰æˆ‘ã€‚                                 â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ å…³é”®æ”¹è¿›ç‚¹

### 1. é¢‘é“è¿½è¸ª âœ…

- Listener æ•è·åŸå§‹é¢‘é“
- é€šè¿‡æ•´ä¸ªå¤„ç†é“¾ä¼ é€’
- Creator å‘é€å›åŸå§‹é¢‘é“

### 2. ç”¨æˆ·ä½“éªŒ âœ…

- ç”¨æˆ·åœ¨å“ªä¸ªé¢‘é“å‘é€ï¼Œå°±åœ¨å“ªä¸ªé¢‘é“æ”¶åˆ°å›å¤
- å¯¹è¯è¿è´¯ï¼Œä¸ä¼šè·³è½¬åˆ°å…¶ä»–åœ°æ–¹
- ç¬¦åˆç”¨æˆ·çš„è‡ªç„¶é¢„æœŸ

### 3. å…¼å®¹æ€§ âœ…

- æ”¯æŒæ–°æ ¼å¼ï¼ˆåŒ…å«é¢‘é“ï¼‰
- å…¼å®¹æ—§æ ¼å¼ï¼ˆé»˜è®¤ generalï¼‰
- å¹³æ»‘å‡çº§

### 4. å¤‡ç”¨æ–¹æ¡ˆ âœ…

```python
# å¦‚æœ messaging mod ä¸å¯ç”¨
if messaging:
    await messaging.send_channel_message(...)
else:
    # å¤‡ç”¨ï¼šå‘é€ç»™ daily-assistant
    await self.send_direct_message(
        target_agent_id="daily-assistant",
        text=message
    )
```

---

## ğŸ“ æ¶ˆæ¯å‘é€æ–¹å¼å¯¹æ¯”

| æ–¹å¼                | ä»£ç                                               | é€‚ç”¨åœºæ™¯     | ä¼˜ç‚¹           | ç¼ºç‚¹       |
| ------------------- | ------------------------------------------------- | ------------ | -------------- | ---------- |
| **é¢‘é“æ¶ˆæ¯**        | `send_channel_message(channel="general")`         | å…¬å¼€å¯¹è¯     | ç”¨æˆ·å¯è§ã€è‡ªç„¶ | æ‰€æœ‰äººå¯è§ |
| **ç›´æ¥æ¶ˆæ¯**        | `send_direct_message(target_agent_id="agent-id")` | Agent é—´é€šä¿¡ | ç§å¯†ã€é«˜æ•ˆ     | ç”¨æˆ·çœ‹ä¸åˆ° |
| **é€šè¿‡ Agent è½¬å‘** | å‘ç»™ daily-assistant è½¬å‘                         | å¤‡ç”¨æ–¹æ¡ˆ     | çµæ´»           | å¤šä¸€è·³     |

---

## ğŸ” è°ƒè¯•ä¿¡æ¯

### Listener æ—¥å¿—

```
ğŸ“¨ æ”¶åˆ°æ¶ˆæ¯ from admin
   ç”¨æˆ·: admin
   å†…å®¹: æœ€è¿‘å·¥ä½œå‹åŠ›å¾ˆå¤§ï¼Œç»å¸¸åŠ ç­åˆ°å¾ˆæ™šï¼Œæ„Ÿè§‰å¾ˆç„¦è™‘
   ğŸ¯ æ£€æµ‹åˆ°éœ€è¦åˆ†æçš„å†…å®¹
   ğŸ“¤ å·²å‘é€åˆ†æè¯·æ±‚ç»™åˆ†æå¸ˆæ™ºèƒ½ä½“ (é¢‘é“: general)
```

### Analyst æ—¥å¿—

```
ğŸ“Š æ”¶åˆ°åˆ†æè¯·æ±‚
   ç”¨æˆ·: admin
   æ¡†æ¶: general
   é¢‘é“: general
   å†…å®¹: æœ€è¿‘å·¥ä½œå‹åŠ›å¾ˆå¤§ï¼Œç»å¸¸åŠ ç­åˆ°å¾ˆæ™šï¼Œæ„Ÿè§‰å¾ˆç„¦è™‘
   âœ… åˆ†æå®Œæˆ: 5 ä¸ªæ´å¯Ÿ
   ğŸ“¤ å·²å‘é€åˆ†æç»“æœç»™åˆ›ä½œè€…æ™ºèƒ½ä½“
```

### Creator æ—¥å¿—

```
ğŸ“‹ æ”¶åˆ°åˆ†æç»“æœ
   ç”¨æˆ·: admin
   æ¡†æ¶: general
   æ´å¯Ÿæ•°é‡: 5
   ç›®æ ‡é¢‘é“: general
   âœ… è¡ŒåŠ¨è®¡åˆ’å·²å‘é€åˆ°é¢‘é“: general
   ğŸ“¤ æ ‡é¢˜: å‹åŠ›ç®¡ç†ä¸å·¥ä½œæ•ˆç‡æå‡è®¡åˆ’
```

---

## âœ… æ€»ç»“

### é—®é¢˜

âŒ Creator å°è¯•å‘é€ç›´æ¥æ¶ˆæ¯ç»™ç”¨æˆ· IDï¼Œä½†ç”¨æˆ·ä¸æ˜¯ agent

### è§£å†³æ–¹æ¡ˆ

âœ… Creator å‘é€é¢‘é“æ¶ˆæ¯åˆ°åŸå§‹é¢‘é“

### å®ç°

1. Listener æ•è·é¢‘é“ä¿¡æ¯
2. Analyst ä¼ é€’é¢‘é“ä¿¡æ¯
3. Creator å‘é€åˆ°åŸå§‹é¢‘é“

### ç»“æœ

ğŸ¯ ç”¨æˆ·åœ¨å‘é€æ¶ˆæ¯çš„é¢‘é“ä¸­æ”¶åˆ°å®Œæ•´çš„åˆ†ææŠ¥å‘Šå’Œè¡ŒåŠ¨è®¡åˆ’

### ç”¨æˆ·ä½“éªŒ

- å³æ—¶åé¦ˆï¼ˆDaily Assistantï¼‰
- æ·±åº¦åˆ†æï¼ˆAnalystï¼‰
- è¡ŒåŠ¨è®¡åˆ’ï¼ˆCreatorï¼‰
- æµç•…ã€è‡ªç„¶çš„å¯¹è¯ä½“éªŒ

---

## ğŸš€ æµ‹è¯•æ­¥éª¤

1. å¯åŠ¨ç½‘ç»œæœåŠ¡

```bash
openagents network start .
```

2. å¯åŠ¨æ‰€æœ‰ agents

```bash
python start_symphony.py
```

3. æ‰“å¼€ Studio

```
http://localhost:8700/studio/
```

4. ç™»å½•å¹¶å‘é€æµ‹è¯•æ¶ˆæ¯

```
ç”¨æˆ·: admin / admin
é¢‘é“: general
æ¶ˆæ¯: "æœ€è¿‘å·¥ä½œå‹åŠ›å¾ˆå¤§"
```

5. è§‚å¯Ÿç»“æœ

- ç«‹å³çœ‹åˆ° Daily Assistant çš„å›å¤
- 4 ç§’ååœ¨åŒä¸€é¢‘é“çœ‹åˆ° Creator çš„å®Œæ•´æŠ¥å‘Š

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨åˆ†ææŠ¥å‘Šå’Œè¡ŒåŠ¨è®¡åˆ’ä¼šæ­£ç¡®åœ°å‘é€åˆ°ç”¨æˆ·æ‰€åœ¨çš„é¢‘é“ï¼Œç”¨æˆ·å¯ä»¥åœ¨ Studio ä¸­çœ‹åˆ°å®Œæ•´çš„å¯¹è¯æµç¨‹ï¼
